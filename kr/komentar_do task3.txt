Тип даних функції і elem має бути long int , щоб не було stack overflow 
